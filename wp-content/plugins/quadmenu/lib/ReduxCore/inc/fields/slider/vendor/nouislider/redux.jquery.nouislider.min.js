
/*! $.noUiSlider
 @version 5.0.0
 @author Leon Gersen https://twitter.com/LeonGersen
 @license WTFPL http://www.wtfpl.net/about/
 @documentation http://refreshless.com/nouislider/
*/
(function(a){if(a.zepto&&!a.fn.removeData){throw new ReferenceError("Zepto is loaded without the data module.")}a.fn.noUiSlider=function(x,i){var h=a(document),w=a("body"),H=".nui",I=a.fn.val,J=["noUi-base","noUi-origin","noUi-handle","noUi-input","noUi-active","noUi-state-tap","noUi-target","-lower","-upper","noUi-connect","noUi-horizontal","noUi-vertical","noUi-background","noUi-stacking","noUi-block","noUi-state-blocked","noUi-ltr","noUi-rtl","noUi-dragable","noUi-extended","noUi-state-drag"],F=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"};function o(O,P){return(P*100)/(O[1]-O[0])}function z(O,P){return o(O,O[0]<0?P+Math.abs(O[0]):P-O[0])}function r(O,P){return((P*(O[1]-O[0]))/100)+O[0]}function e(O){return O instanceof a||(a.zepto&&a.zepto["isZ"](O))}function v(O){return !isNaN(parseFloat(O))&&isFinite(O)}function b(P,O){if(!a.isArray(P)){P=[P]}a.each(P,function(){if(typeof this==="function"){this.call(O)}})}function L(P,O){return function(){var Q=[null,null];Q[O]=a(this).val();P.val(Q,true)}}function u(O,P){return Math.round(O/P)*P}function B(P,O){P=P.toFixed(O.decimals);if(parseFloat(P)===0){P=P.replace("-0","0")}return P.replace(".",O.serialization["mark"])}function g(P,O,Q){if(P.length===1){return P[0]}var R=P[0].offset()[Q]+P[1].offset()[Q];return P[O<R/2?0:1]}function N(P,O){return parseFloat(P.toFixed(O))}function M(R){R.preventDefault();var U=R.type.indexOf("touch")===0,P=R.type.indexOf("mouse")===0,S=R.type.indexOf("pointer")===0,O,T,Q=R;if(R.type.indexOf("MSPointer")===0){S=true}if(R.originalEvent){R=R.originalEvent}if(U){O=R.changedTouches[0].pageX;T=R.changedTouches[0].pageY}if(P||S){if(!S&&window.pageXOffset===undefined){window.pageXOffset=document.documentElement.scrollLeft;window.pageYOffset=document.documentElement.scrollTop}O=R.clientX+window.pageXOffset;T=R.clientY+window.pageYOffset}return a.extend(Q,{pointX:O,pointY:T,cursor:P})}function p(P,O,S,Q){var R=Q.target;P=P.replace(/\s/g,H+" ")+H;return O.on(P,function(U){var T=R.attr("disabled");T=!(T===undefined||T===null);if(R.hasClass("noUi-state-tap")||T){return false}S(M(U),Q,R.data("base").data("options"))})}function f(O){var P=this.target;if(O===undefined){return this.element.data("value")}if(O===true){O=this.element.data("value")}else{this.element.data("value",O)}if(O===undefined){return}a.each(this.elements,function(){if(typeof this==="function"){this.call(P,O)}else{this[0][this[1]](O)}})}function s(R,P,O){if(e(P)){var Q=[],S=R.data("target");if(R.data("options").direction){O=O?0:1}P.each(function(){a(this).on("change"+H,L(S,O));Q.push([a(this),"val"])});return Q}if(typeof P==="string"){P=[a('<input type="hidden" name="'+P+'">').appendTo(R).addClass(J[3]).change(function(T){T.stopPropagation()}),"val"]}return[P]}function c(R,P,O){var Q=[];a.each(O.to[P],function(S){Q=Q.concat(s(R,O.to[P][S],P))});return{element:R,elements:Q,target:R.data("target"),val:f}}function n(O,Q){var P=O.data("target");if(!P.hasClass(J[14])){if(!Q){P.addClass(J[15]);setTimeout(function(){P.removeClass(J[15])},450)}P.addClass(J[14]);b(O.data("options").block,P)}}function A(P,Q){var O=P.data("options");Q=N(Q,7);P.data("target").removeClass(J[14]);P.css(O.style,Q+"%").data("pct",Q);if(P.is(":first-child")){P.toggleClass(J[13],Q>50)}if(O.direction){Q=100-Q}P.data("store").val(B(r(O.range,Q),O))}function d(T,U){var S=T.data("base"),R=S.data("options"),P=S.data("handles"),O=0,Q=100;if(!v(U)){return false}if(R.step){U=u(U,R.step)}if(P.length>1){if(T[0]!==P[0][0]){O=N(P[0].data("pct")+R.margin,7)}else{Q=N(P[1].data("pct")-R.margin,7)}}U=Math.min(Math.max(U,O),Q<0?100:Q);if(U===T.data("pct")){return[!O?false:O,Q===100?false:Q]}A(T,U);return true}function m(Q,P,R,O){Q.addClass(J[5]);setTimeout(function(){Q.removeClass(J[5])},300);d(P,R);b(O,Q.data("target"));Q.data("target").change()}function q(P,T,W){var X=T.handles,O,V=P[T.point]-T.start[T.point];V=(V*100)/T.size;if(X.length===1){O=d(X[0],T.positions[0]+V);if(O!==true){if(a.inArray(X[0].data("pct"),O)>=0){n(T.base,!W.margin)}return}}else{var U,R,S,Q;if(W.step){V=u(V,W.step)}U=S=T.positions[0]+V;R=Q=T.positions[1]+V;if(U<0){R+=-1*U;U=0}else{if(R>100){U-=(R-100);R=100}}if(S<0&&!U&&!X[0].data("pct")){return}if(R===100&&Q>100&&X[1].data("pct")===100){return}A(X[0],U);A(X[1],R)}b(W.slide,T.target)}function t(P,Q,O){if(Q.handles.length===1){Q.handles[0].data("grab").removeClass(J[4])}if(P.cursor){w.css("cursor","").off(H)}h.off(H);Q.target.removeClass(J[14]+" "+J[20]).change();b(O.set,Q.target)}function y(P,Q,O){if(Q.handles.length===1){Q.handles[0].data("grab").addClass(J[4])}P.stopPropagation();p(F.move,h,q,{start:P,base:Q.base,target:Q.target,handles:Q.handles,positions:[Q.handles[0].data("pct"),Q.handles[Q.handles.length-1].data("pct")],point:O.orientation?"pointY":"pointX",size:O.orientation?Q.base.height():Q.base.width()});p(F.end,h,t,{target:Q.target,handles:Q.handles});if(P.cursor){w.css("cursor",a(P.target).css("cursor"));if(Q.handles.length>1){Q.target.addClass(J[20])}w.on("selectstart"+H,function(){return false})}}function E(R,U,P){var T=U.base,S,V,O,Q;R.stopPropagation();if(P.orientation){O=R.pointY;Q=T.height()}else{O=R.pointX;Q=T.width()}S=g(T.data("handles"),O,P.style);V=((O-T.offset()[P.style])*100)/Q;m(T,S,V,[P.slide,P.set])}function l(R,S,O){var Q=S.base.data("handles"),T,P;P=O.orientation?R.pointY:R.pointX;P=P<S.base.offset()[O.style];T=P?0:100;P=P?0:Q.length-1;m(S.base,Q[P],T,[O.slide,O.set])}function j(Q,S){function P(T){if(T.length!==2){return false}T=[parseFloat(T[0]),parseFloat(T[1])];if(!v(T[0])||!v(T[1])){return false}if(T[1]<T[0]){return false}return T}var O={resolution:function(T,U){switch(T){case 1:case 0.1:case 0.01:case 0.001:case 0.0001:case 0.00001:T=T.toString().split(".");U.decimals=T[0]==="1"?0:T[1].length;break;case undefined:U.decimals=2;break;default:return false}return true},mark:function(U,V,T){if(!U){V[T]["mark"]=".";return true}switch(U){case".":case",":return true;default:return false}},to:function(Y,Z,U){function T(aa){return e(aa)||typeof aa==="string"||typeof aa==="function"||aa===false||(e(aa[0])&&typeof aa[0][aa[1]]==="function")}function X(ab){var aa=[[],[]];if(T(ab)){aa[0].push(ab)}else{a.each(ab,function(ac,ad){if(ac>1){return}if(T(ad)){aa[ac].push(ad)}else{aa[ac]=aa[ac].concat(ad)}})}return aa}if(!Y){Z[U]["to"]=[[],[]]}else{var W,V;Y=X(Y);if(Z.direction&&Y[1].length){Y.reverse()}for(W=0;W<Z.handles;W++){for(V=0;V<Y[W].length;V++){if(!T(Y[W][V])){return false}if(!Y[W][V]){Y[W].splice(V,1)}}}Z[U]["to"]=Y}return true}},R={handles:{r:true,t:function(T){T=parseInt(T,10);return(T===1||T===2)}},range:{r:true,t:function(U,V,T){V[T]=P(U);return V[T]&&V[T][0]!==V[T][1]}},start:{r:true,t:function(U,V,T){if(V.handles===1){if(a.isArray(U)){U=U[0]}U=parseFloat(U);V.start=[U];return v(U)}V[T]=P(U);return !!V[T]}},connect:{r:true,t:function(U,V,T){if(U==="lower"){V[T]=1}else{if(U==="upper"){V[T]=2}else{if(U===true){V[T]=3}else{if(U===false){V[T]=0}else{return false}}}}return true}},orientation:{t:function(U,V,T){switch(U){case"horizontal":V[T]=0;break;case"vertical":V[T]=1;break;default:return false}return true}},margin:{r:true,t:function(U,V,T){U=parseFloat(U);V[T]=o(V.range,U);return v(U)}},direction:{r:true,t:function(U,V,T){switch(U){case"ltr":V[T]=0;break;case"rtl":V[T]=1;V.connect=[0,2,1,3][V.connect];break;default:return false}return true}},behaviour:{r:true,t:function(U,V,T){V[T]={tap:U!==(U=U.replace("tap","")),extend:U!==(U=U.replace("extend","")),drag:U!==(U=U.replace("drag","")),fixed:U!==(U=U.replace("fixed",""))};return !U.replace("none","").replace(/\-/g,"")}},serialization:{r:true,t:function(U,V,T){return O.to(U.to,V,T)&&O.resolution(U.resolution,V)&&O.mark(U.mark,V,T)}},slide:{t:function(T){return a.isFunction(T)}},set:{t:function(T){return a.isFunction(T)}},block:{t:function(T){return a.isFunction(T)}},step:{t:function(U,V,T){U=parseFloat(U);V[T]=o(V.range,U);return v(U)}}};a.each(R,function(T,W){var V=Q[T],U=V!==undefined;if((W.r&&!U)||(U&&!W.t(V,Q,T))){if(console&&console.log&&console.group){console.group("Invalid noUiSlider initialisation:");console.log("Option:\t",T);console.log("Value:\t",V);console.log("Slider(s):\t",S);console.groupEnd()}throw new RangeError("noUiSlider")}})}function k(O){this.data("options",a.extend(true,{},O));O=a.extend({handles:2,margin:0,connect:false,direction:"ltr",behaviour:"tap",orientation:"horizontal"},O);O.serialization=O.serialization||{};j(O,this);O.style=O.orientation?"top":"left";return this.each(function(){var U=a(this),Q,T,P=[],S,R=a("<div/>").appendTo(U);if(U.data("base")){throw new Error("Slider was already initialized.")}U.data("base",R).addClass([J[6],J[16+O.direction],J[10+O.orientation]].join(" "));for(Q=0;Q<O.handles;Q++){S=a("<div><div/></div>").appendTo(R);S.addClass(J[1]);S.children().addClass([J[2],J[2]+J[7+O.direction+(O.direction?-1*Q:Q)]].join(" "));S.data({base:R,target:U,options:O,grab:S.children(),pct:-1}).attr("data-style",O.style);S.data({store:c(S,Q,O.serialization)});P.push(S)}switch(O.connect){case 1:U.addClass(J[9]);P[0].addClass(J[12]);break;case 3:P[1].addClass(J[12]);case 2:P[0].addClass(J[9]);case 0:U.addClass(J[12]);break}R.addClass(J[0]).data({target:U,options:O,handles:P});U.val(O.start);if(!O.behaviour["fixed"]){for(Q=0;Q<P.length;Q++){p(F.start,P[Q].children(),y,{base:R,target:U,handles:[P[Q]]})}}if(O.behaviour["tap"]){p(F.start,R,E,{base:R,target:U})}if(O.behaviour["extend"]){U.addClass(J[19]);if(O.behaviour["tap"]){p(F.start,U,l,{base:R,target:U})}}if(O.behaviour["drag"]){T=R.find("."+J[9]).addClass(J[18]);if(O.behaviour["fixed"]){T=T.add(R.children().not(T).data("grab"))}p(F.start,T,y,{base:R,target:U,handles:P})}})}function D(){var P=a(this).data("base"),O=[];a.each(P.data("handles"),function(){O.push(a(this).data("store").val())});if(O.length===1){return O[0]}if(P.data("options").direction){return O.reverse()}return O}function C(O,P){if(!a.isArray(O)){O=[O]}return this.each(function(){var Q=a(this).data("base"),U,S,R=Array.prototype.slice.call(Q.data("handles"),0),T=Q.data("options");if(R.length>1){R[2]=R[0]}if(T.direction){O.reverse()}for(S=0;S<R.length;S++){U=O[S%2];if(U===null||U===undefined){continue}if(a.type(U)==="string"){U=U.replace(",",".")}U=z(T.range,parseFloat(U));if(T.direction){U=100-U}if(d(R[S],U)!==true){R[S].data("store").val(true)}if(P===true){b(T.set,a(this))}}})}function K(P){var O=[[P,""]];a.each(P.data("base").data("handles"),function(){O=O.concat(a(this).data("store").elements)});a.each(O,function(){if(this.length>1){this[0].off(H)}});P.removeClass(J.join(" "));P.empty().removeData("base options")}function G(O){return this.each(function(){var Q=a(this).val()||false,R=a(this).data("options"),P=a.extend({},R,O);if(Q!==false){K(a(this))}if(!O){return}a(this)["noUiSlider"](P);if(Q!==false&&P.start===R.start){a(this).val(Q)}})}a.fn.val=function(){if(this.hasClass(J[6])){return arguments.length?C.apply(this,arguments):D.apply(this)}return I.apply(this,arguments)};return(i?G:k).call(this,x)}}(window.jQuery||window.Zepto));