
(function(a){redux.field_objects=redux.field_objects||{};redux.field_objects.select_image=redux.field_objects.select_image||{};a(document).ready(function(){});redux.field_objects.select_image.init=function(b){if(!b){b=a(document).find(".redux-group-tab:visible").find(".redux-container-select_image:visible")}a(b).each(function(){var g=a(this);var f=g;if(!g.hasClass("redux-field-container")){f=g.parents(".redux-field-container:first")}if(f.is(":hidden")){return}if(f.hasClass("redux-field-init")){f.removeClass("redux-field-init")}else{return}var c={width:"resolve",triggerChange:true,allowClear:true};var d=g.find(".redux-container-select_image").find(".select2_params");if(d.size()>0){var e=d.val();e=JSON.parse(e);c=a.extend({},c,e)}g.find("select.redux-select-images").select2(c);g.find(".redux-select-images").on("change",function(){var h=a(this).parents(".redux-field:first").find(".redux-preview-image");if(a(this).val()===""){h.fadeOut("medium",function(){h.attr("src","")})}else{h.attr("src",a(this).val());h.fadeIn().css("visibility","visible")}})})}})(jQuery);