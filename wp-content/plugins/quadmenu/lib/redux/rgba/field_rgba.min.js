
(function(a){redux.field_objects=redux.field_objects||{};redux.field_objects.rgba=redux.field_objects.rgba||{};a(document).ready(function(){});redux.field_objects.rgba.init=function(b){if(!b){b=a(document).find(".redux-group-tab:visible").find(".redux-container-rgba:visible")}a(b).each(function(){var d=a(this);var c=d;if(!d.hasClass("redux-field-container")){c=d.parents(".redux-field-container:first")}if(c.is(":hidden")){return}if(c.hasClass("redux-field-init")){c.removeClass("redux-field-init")}else{return}d.find(".redux-rgba-init").wpColorPicker({change:function(g,f){a(this).val(f.color.toString());redux_change(a(this));d.find("#"+g.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(g,f){a(this).val("");redux_change(a(this).parent().find(".redux-rgba-init"))}});d.find(".redux-color").on("focus",function(){a(this).data("oldcolor",a(this).val())});d.find(".redux-color").on("keyup",function(){var f=a(this).val();var e=colorValidate(this);var g="#"+a(this).attr("id");if(f==="transparent"){a(this).parent().parent().find(".wp-color-result").css("background-color","transparent");d.find(g+"-transparency").attr("checked","checked")}else{d.find(g+"-transparency").removeAttr("checked");if(e&&e!==a(this).val()){a(this).val(e)}}});d.find(".redux-rgba").on("blur",function(){var e=a(this).val();var f="#"+a(this).attr("id");if(e==="transparent"){a(this).parent().parent().find(".wp-color-result").css("background-color","transparent");d.find(f+"-transparency").attr("checked","checked")}else{if(colorValidate(this)===e){if(e.indexOf("#")!==0){a(this).val(a(this).data("oldcolor"))}}d.find(f+"-transparency").removeAttr("checked")}});d.find(".redux-color").on("keydown",function(){a(this).data("oldkeypress",a(this).val())});d.find(".color-transparency").on("click",function(){if(a(this).is(":checked")){d.find(".redux-saved-color").val(a("#"+a(this).data("id")).val());d.find("#"+a(this).data("id")).val("transparent");d.find("#"+a(this).data("id")).parent().parent().find(".wp-color-result").css("background-color","transparent")}else{if(d.find("#"+a(this).data("id")).val()==="transparent"){var e=a(".redux-saved-color").val();if(e===""){e=a("#"+a(this).data("id")).data("default-color")}d.find("#"+a(this).data("id")).parent().parent().find(".wp-color-result").css("background-color",e);d.find("#"+a(this).data("id")).val(e)}}redux_change(a(this))})})}})(jQuery);