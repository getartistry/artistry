!function(o){"use strict";var p=wp.customize,i={controls:{},init:function(){var e=this;e.handleDependency(),e.hideEmptySections(),p.bind("change",function(i){e.handleDependency(),e.hideEmptySections()})},handleDependency:function(){var a=this,i=p.get();_.each(i,function(i,e){var n=p.control(e);a.checkControlVisibility(n,e)})},checkControlVisibility:function(i,e){var n=p.get();if(!_.isUndefined(i)&&void 0!==astra.config[e]){var a=astra.config[e],t=_.isUndefined(a.conditions)?a:a.conditions,s=_.isUndefined(a.operator)?"AND":a.operator;void 0!==t&&(this.checkDependency(t,n,s)?i.container.removeClass("ast-hide"):i.container.addClass("ast-hide"))}},checkDependency:function(i,r,d){var f=this,h=!1,l=!1,e=i[0];if(_.isString(e)){h=!1;var n,a=i[1],t=i[2];if(void 0!==astra.config[e]){i=_.isUndefined(astra.config[e].conditions)?astra.config[e]:astra.config[e].conditions;var s=_.isUndefined(astra.config[e].operator)?"AND":astra.config[e].operator;if(!_.isUndefined(i)){if(!f.checkDependency(i,r,s))return void(h=!(l=!0));p.control(e).container.removeClass("ast-hide")}}_.isUndefined(r[e])||l||(n=r[e],h=f.compareValues(n,a,t))}else _.isArray(e)&&(h=!0,o.each(i,function(i,e){var n=e[0],a=e[1],t=e[2],s=r[n];if(void 0!==astra.config[n]){var o=_.isUndefined(astra.config[n].conditions)?astra.config[n]:astra.config[n].conditions,c=_.isUndefined(astra.config[n].operator)?"AND":astra.config[n].operator;if(!_.isUndefined(o)){if(!f.checkDependency(o,r,c))return void(h=!1);p.control(n).container.removeClass("ast-hide")}}_.isUndefined(s)&&(s=""),"AND"==d?f.compareValues(s,a,t)||(h=!1):h=!!f.compareValues(s,a,t)&&(l=!0),l&&"OR"==d&&(h=!0)}));return h},hideEmptySections:function(){o("ul.accordion-section.control-section-ast_section").each(function(){var i=o(this).attr("id"),e=!1,n=o(this).find(" > .customize-control");0<n.length&&(n.each(function(){o(this).hasClass("ast-hide")&&"none"==o(this).css("display")||(e=!0)}),e?o('.control-section[aria-owns="'+i+'"]').removeClass("ast-hide"):o('.control-section[aria-owns="'+i+'"]').addClass("ast-hide"))})},compareValues:function(i,e,n){var a=!1;switch(e){case"===":a=i===n;break;case">":a=n<i;break;case"<":a=i<n;break;case"<=":a=i<=n;break;case">=":a=n<=i;break;case"!=":a=i!=n;break;case"empty":var t=_.clone(i);_.isObject(t)||_.isArray(t)?(_.each(t,function(i,e){_.isEmpty(i)&&delete t[e]}),a=!!_.isEmpty(t)):a=!(!_.isNull(t)&&""!=t);break;case"not_empty":t=_.clone(i);(_.isObject(t)||_.isArray(t))&&_.each(t,function(i,e){_.isEmpty(i)&&delete t[e]}),a=!_.isEmpty(t);break;case"contains":_.isArray(i)&&-1!==o.inArray(n,i)&&(a=!0);break;default:a=_.isArray(n)?!_.isEmpty(n)&&!_.isEmpty(i)&&_.contains(n,i):i==n}return a}};o(function(){i.init()})}(jQuery);